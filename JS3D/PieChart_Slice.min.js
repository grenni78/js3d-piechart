var PieChart_Slice=new Class({radius:1,height:1,value:1,arcStart:0,arcEnd:0,arcStep:0,steps:1,fillRGBA:Class.empty,fillStyle:"red",strokeRGBA:Class.empty,strokeStyle:"black",stroked:!1,faces:new Array,anchorPoint:Class.empty,origin:{x:0,y:0,z:0},initialize:function(t,i,s,e,h,a,n,r){i>1||(this.height=e,this.value=i,this.radius=s,this.fillRGBA=a,this.fillStyle=a.getCSSRGBA(),this.stroked=n,arguments.length>7&&(this.strokeRGBA=r,this.strokeStyle=r.getCSSRGBA()),this.arcStart=t,this.arcEnd=360*i+t,this.arcEnd>360&&(this.arcEnd=360),this.steps=h,this.arcStep=(this.arcEnd-this.arcStart)/h,this.generateFaces())},generateFaces:function(){var t=this.arcStart*Math.PI/180,i=this.arcEnd*Math.PI/180;this.arcStep*Math.PI/180;this.direction=(i-t)/2+t,this.origin.x=.66*Math.sin(this.direction),this.origin.z=.66*Math.cos(this.direction),this.origin.y=0;for(var s=this.fillRGBA.getBrighterColor(.5),e=(this.fillRGBA.getDarkerColor(.5),new Array(6)),h=0;h<e.length;h++)e[h]={x:0,y:0,z:0};var a=(new Array,this.arcStart),n=a*Math.PI/180;e[0].x=0,e[0].y=-this.height/2,e[0].z=0,e[2].x=this.radius*Math.sin(t),e[2].y=-this.height/2,e[2].z=this.radius*Math.cos(t),e[3].x=this.radius*Math.sin(t),e[3].y=this.height/2,e[3].z=this.radius*Math.cos(t),e[5].x=0,e[5].y=this.height/2,e[5].z=0,this.faces.push(new JS3D_Face([new JS3D_Point(e[0].x,e[0].y,e[0].z),new JS3D_Point(e[2].x,e[2].y,e[2].z),new JS3D_Point(e[3].x,e[3].y,e[3].z),new JS3D_Point(e[5].x,e[5].y,e[5].z)],s.getCSSRGBA()));for(var r=new JS3D_Face([new JS3D_Point(e[0].x,e[0].y,e[0].z),new JS3D_Point(e[2].x,e[2].y,e[2].z)],s.getCSSRGBA()),S=new JS3D_Face([new JS3D_Point(e[5].x,e[5].y,e[5].z),new JS3D_Point(e[3].x,e[3].y,e[3].z)],s.getCSSRGBA()),h=1;h<this.steps;h++)a+=this.arcStep,n=a*Math.PI/180,e[1]={x:e[2].x,y:e[2].y,z:e[2].z},e[4]={x:e[3].x,y:e[3].y,z:e[3].z},e[2].x=this.radius*Math.sin(n),e[2].y=-this.height/2,e[2].z=this.radius*Math.cos(n),e[3].x=this.radius*Math.sin(n),e[3].y=this.height/2,e[3].z=this.radius*Math.cos(n),r.addPoints([new JS3D_Point(e[2].x,e[2].y,e[2].z)]),S.addPoints([new JS3D_Point(e[3].x,e[3].y,e[3].z)]),this.faces.push(new JS3D_Face([new JS3D_Point(e[1].x,e[1].y,e[1].z),new JS3D_Point(e[2].x,e[2].y,e[2].z),new JS3D_Point(e[3].x,e[3].y,e[3].z),new JS3D_Point(e[4].x,e[4].y,e[4].z)],this.fillRGBA.getCSSRGBA()));this.faces.push(r),this.faces.push(S),this.anchorPoint=r.center,this.faces.push(new JS3D_Face([new JS3D_Point(e[0].x,e[0].y,e[0].z),new JS3D_Point(e[2].x,e[2].y,e[2].z),new JS3D_Point(e[3].x,e[3].y,e[3].z),new JS3D_Point(e[5].x,e[5].y,e[5].z)],s.getCSSRGBA()))}});